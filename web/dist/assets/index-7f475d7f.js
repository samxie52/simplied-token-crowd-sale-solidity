import{r as o,a as De,R as ve}from"./vendor-57209f9c.js";import{c as Fe,u as Oe,f as Me,B as We,C as le}from"./web3-60082c6c.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var be={exports:{}},ne={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $e=o,Ue=Symbol.for("react.element"),Be=Symbol.for("react.fragment"),He=Object.prototype.hasOwnProperty,Ve=$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ze={key:!0,ref:!0,__self:!0,__source:!0};function Ce(e,t,r){var n,i={},a=null,l=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)He.call(t,n)&&!ze.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Ue,type:e,key:a,ref:l,props:i,_owner:Ve.current}}ne.Fragment=Be;ne.jsx=Ce;ne.jsxs=Ce;be.exports=ne;var s=be.exports,ce={},he=De;ce.createRoot=he.createRoot,ce.hydrateRoot=he.hydrateRoot;let qe={data:""},Ze=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||qe,Ge=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ke=/\/\*[^]*?\*\/|  +/g,pe=/\n+/g,_=(e,t)=>{let r="",n="",i="";for(let a in e){let l=e[a];a[0]=="@"?a[1]=="i"?r=a+" "+l+";":n+=a[1]=="f"?_(l,a):a+"{"+_(l,a[1]=="k"?"":t)+"}":typeof l=="object"?n+=_(l,t?t.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,c):c?c+" "+d:d)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=_.p?_.p(a,l):a+":"+l+";")}return r+(t&&i?t+"{"+i+"}":i)+n},T={},Ee=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+Ee(e[r]);return t}return e},Ye=(e,t,r,n,i)=>{let a=Ee(e),l=T[a]||(T[a]=(d=>{let u=0,m=11;for(;u<d.length;)m=101*m+d.charCodeAt(u++)>>>0;return"go"+m})(a));if(!T[l]){let d=a!==e?e:(u=>{let m,p,g=[{}];for(;m=Ge.exec(u.replace(Ke,""));)m[4]?g.shift():m[3]?(p=m[3].replace(pe," ").trim(),g.unshift(g[0][p]=g[0][p]||{})):g[0][m[1]]=m[2].replace(pe," ").trim();return g[0]})(e);T[l]=_(i?{["@keyframes "+l]:d}:d,r?"":"."+l)}let c=r&&T.g?T.g:null;return r&&(T.g=T[l]),((d,u,m,p)=>{p?u.data=u.data.replace(p,d):u.data.indexOf(d)===-1&&(u.data=m?d+u.data:u.data+d)})(T[l],t,n,c),l},Xe=(e,t,r)=>e.reduce((n,i,a)=>{let l=t[a];if(l&&l.call){let c=l(r),d=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=d?"."+d:c&&typeof c=="object"?c.props?"":_(c,""):c===!1?"":c}return n+i+(l??"")},"");function ae(e){let t=this||{},r=e.call?e(t.p):e;return Ye(r.unshift?r.raw?Xe(r,[].slice.call(arguments,1),t.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(t.p):i),{}):r,Ze(t.target),t.g,t.o,t.k)}let Ne,de,ue;ae.bind({g:1});let R=ae.bind({k:1});function Je(e,t,r,n){_.p=t,Ne=e,de=r,ue=n}function L(e,t){let r=this||{};return function(){let n=arguments;function i(a,l){let c=Object.assign({},a),d=c.className||i.className;r.p=Object.assign({theme:de&&de()},c),r.o=/ *go\d+/.test(d),c.className=ae.apply(r,n)+(d?" "+d:""),t&&(c.ref=l);let u=e;return e[0]&&(u=c.as||e,delete c.as),ue&&u[0]&&ue(c),Ne(u,c)}return t?t(i):i}}var Qe=e=>typeof e=="function",se=(e,t)=>Qe(e)?e(t):e,et=(()=>{let e=0;return()=>(++e).toString()})(),je=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),tt=20,Se=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,tt)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:r}=t;return Se(e,{type:e.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(a=>a.id===n||n===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},te=[],W={toasts:[],pausedAt:void 0},$=e=>{W=Se(W,e),te.forEach(t=>{t(W)})},rt={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},st=(e={})=>{let[t,r]=o.useState(W),n=o.useRef(W);o.useEffect(()=>(n.current!==W&&r(W),te.push(r),()=>{let a=te.indexOf(r);a>-1&&te.splice(a,1)}),[]);let i=t.toasts.map(a=>{var l,c,d;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((l=e[a.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((c=e[a.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||rt[a.type],style:{...e.style,...(d=e[a.type])==null?void 0:d.style,...a.style}}});return{...t,toasts:i}},nt=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||et()}),X=e=>(t,r)=>{let n=nt(t,e,r);return $({type:2,toast:n}),n.id},b=(e,t)=>X("blank")(e,t);b.error=X("error");b.success=X("success");b.loading=X("loading");b.custom=X("custom");b.dismiss=e=>{$({type:3,toastId:e})};b.remove=e=>$({type:4,toastId:e});b.promise=(e,t,r)=>{let n=b.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?se(t.success,i):void 0;return a?b.success(a,{id:n,...r,...r==null?void 0:r.success}):b.dismiss(n),i}).catch(i=>{let a=t.error?se(t.error,i):void 0;a?b.error(a,{id:n,...r,...r==null?void 0:r.error}):b.dismiss(n)}),e};var at=(e,t)=>{$({type:1,toast:{id:e,height:t}})},it=()=>{$({type:5,time:Date.now()})},G=new Map,ot=1e3,lt=(e,t=ot)=>{if(G.has(e))return;let r=setTimeout(()=>{G.delete(e),$({type:4,toastId:e})},t);G.set(e,r)},ct=e=>{let{toasts:t,pausedAt:r}=st(e);o.useEffect(()=>{if(r)return;let a=Date.now(),l=t.map(c=>{if(c.duration===1/0)return;let d=(c.duration||0)+c.pauseDuration-(a-c.createdAt);if(d<0){c.visible&&b.dismiss(c.id);return}return setTimeout(()=>b.dismiss(c.id),d)});return()=>{l.forEach(c=>c&&clearTimeout(c))}},[t,r]);let n=o.useCallback(()=>{r&&$({type:6,time:Date.now()})},[r]),i=o.useCallback((a,l)=>{let{reverseOrder:c=!1,gutter:d=8,defaultPosition:u}=l||{},m=t.filter(h=>(h.position||u)===(a.position||u)&&h.height),p=m.findIndex(h=>h.id===a.id),g=m.filter((h,y)=>y<p&&h.visible).length;return m.filter(h=>h.visible).slice(...c?[g+1]:[0,g]).reduce((h,y)=>h+(y.height||0)+d,0)},[t]);return o.useEffect(()=>{t.forEach(a=>{if(a.dismissed)lt(a.id,a.removeDelay);else{let l=G.get(a.id);l&&(clearTimeout(l),G.delete(a.id))}})},[t]),{toasts:t,handlers:{updateHeight:at,startPause:it,endPause:n,calculateOffset:i}}},dt=R`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ut=R`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,mt=R`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ft=L("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${dt} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ut} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${mt} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ht=R`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,pt=L("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${ht} 1s linear infinite;
`,xt=R`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,gt=R`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,wt=L("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${xt} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${gt} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,yt=L("div")`
  position: absolute;
`,vt=L("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,bt=R`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ct=L("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${bt} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Et=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?o.createElement(Ct,null,t):t:r==="blank"?null:o.createElement(vt,null,o.createElement(pt,{...n}),r!=="loading"&&o.createElement(yt,null,r==="error"?o.createElement(ft,{...n}):o.createElement(wt,{...n})))},Nt=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,jt=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,St="0%{opacity:0;} 100%{opacity:1;}",At="0%{opacity:1;} 100%{opacity:0;}",kt=L("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Tt=L("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Rt=(e,t)=>{let r=e.includes("top")?1:-1,[n,i]=je()?[St,At]:[Nt(r),jt(r)];return{animation:t?`${R(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${R(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Pt=o.memo(({toast:e,position:t,style:r,children:n})=>{let i=e.height?Rt(e.position||t||"top-center",e.visible):{opacity:0},a=o.createElement(Et,{toast:e}),l=o.createElement(Tt,{...e.ariaProps},se(e.message,e));return o.createElement(kt,{className:e.className,style:{...i,...r,...e.style}},typeof n=="function"?n({icon:a,message:l}):o.createElement(o.Fragment,null,a,l))});Je(o.createElement);var It=({id:e,className:t,style:r,onHeightUpdate:n,children:i})=>{let a=o.useCallback(l=>{if(l){let c=()=>{let d=l.getBoundingClientRect().height;n(e,d)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return o.createElement("div",{ref:a,className:t,style:r},i)},_t=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:je()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...i}},Lt=ae`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ee=16,Dt=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:i,containerStyle:a,containerClassName:l})=>{let{toasts:c,handlers:d}=ct(r);return o.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:ee,left:ee,right:ee,bottom:ee,pointerEvents:"none",...a},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(u=>{let m=u.position||t,p=d.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),g=_t(m,p);return o.createElement(It,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?Lt:"",style:g},u.type==="custom"?se(u.message,u):i?i(u):o.createElement(Pt,{toast:u,position:m}))}))},P=b;const{useDebugValue:Ft}=ve,{useSyncExternalStoreWithSelector:Ot}=Oe;const Mt=e=>e;function Wt(e,t=Mt,r){const n=Ot(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return Ft(n),n}const xe=e=>{const t=typeof e=="function"?Fe(e):e,r=(n,i)=>Wt(t,n,i);return Object.assign(r,t),r},Ae=e=>e?xe(e):xe,ge={address:null,chainId:null,isConnected:!1,isConnecting:!1,balance:"0",ensName:void 0},ke=Ae(e=>({...ge,transactions:[],error:null,setAddress:t=>e({address:t}),setChainId:t=>e({chainId:t}),setConnected:t=>e({isConnected:t}),setConnecting:t=>e({isConnecting:t}),setBalance:t=>e({balance:t}),setEnsName:t=>e({ensName:t}),addTransaction:t=>{const r={...t,timestamp:Date.now()};e(n=>({transactions:[r,...n.transactions]}))},updateTransaction:(t,r)=>{e(n=>({transactions:n.transactions.map(i=>i.hash===t?{...i,...r}:i)}))},clearTransactions:()=>e({transactions:[]}),setError:t=>e({error:t}),reset:()=>e({...ge,transactions:[],error:null})})),Te={1:{id:1,name:"Ethereum Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:["https://mainnet.infura.io/v3/"],blockExplorerUrls:["https://etherscan.io"]},11155111:{id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:["https://sepolia.infura.io/v3/"],blockExplorerUrls:["https://sepolia.etherscan.io"]},31337:{id:31337,name:"Localhost",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:["http://127.0.0.1:8545"],blockExplorerUrls:[""]}},Re={DEFAULT_NETWORK_ID:31337,REFRESH_INTERVAL:1e4,TRANSACTION_TIMEOUT:3e5,MAX_RETRIES:3,ITEMS_PER_PAGE:10},I={WALLET_NOT_CONNECTED:"Please connect your wallet",WRONG_NETWORK:"Please switch to the correct network",INSUFFICIENT_BALANCE:"Insufficient balance",TRANSACTION_FAILED:"Transaction failed",CONTRACT_NOT_FOUND:"Contract not found",INVALID_ADDRESS:"Invalid address",INVALID_AMOUNT:"Invalid amount",CROWDSALE_NOT_ACTIVE:"Crowdsale is not active",PURCHASE_LIMIT_EXCEEDED:"Purchase limit exceeded",HARD_CAP_REACHED:"Hard cap reached",NOT_WHITELISTED:"Address not whitelisted"},we={WALLET_CONNECTED:"Wallet connected successfully",TRANSACTION_SENT:"Transaction sent successfully",PURCHASE_SUCCESSFUL:"Token purchase successful",CROWDSALE_CREATED:"Crowdsale created successfully",TOKENS_RELEASED:"Tokens released successfully",REFUND_SUCCESSFUL:"Refund processed successfully"},K=(e,t=4)=>Number(Me(e)).toFixed(t),$t=e=>{const t=Number(e),r=Math.floor(t/86400),n=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return r>0?`${r}d ${n}h`:n>0?`${n}h ${i}m`:`${i}m`},Ut=(e,t=6,r=4)=>!e||e.length<t+r?e:`${e.slice(0,t)}...${e.slice(-r)}`,Bt=(e,t)=>t===0n?0:Math.min(Number(e*100n/t),100),Ht=e=>{const t=Math.floor(Date.now()/1e3),r=Number(e)-t;return r<=0?"Ended":$t(r)},Vt=e=>["Pending","Presale","Public Sale","Finalized"][e]||"Unknown",fe=()=>{const{address:e,chainId:t,isConnected:r,isConnecting:n,balance:i,ensName:a,error:l,setAddress:c,setChainId:d,setConnected:u,setConnecting:m,setBalance:p,setEnsName:g,setError:h,reset:y}=ke(),C=o.useCallback(()=>typeof window<"u"&&typeof window.ethereum<"u",[]),A=o.useCallback(async()=>C()?new We(window.ethereum):null,[C]),q=o.useCallback(async()=>{const f=await A();return f?await f.getSigner():null},[A]),D=o.useCallback(async()=>{if(!C()){h({code:-1,message:"MetaMask is not installed. Please install MetaMask to continue."});return}m(!0),h(null);try{const f=await A();if(!f)throw new Error("Failed to get provider");const x=await window.ethereum.request({method:"eth_requestAccounts"});if(x.length===0)throw new Error("No accounts found");const N=x[0],j=await f.getNetwork(),S=await f.getBalance(N);c(N),d(Number(j.chainId)),p(K(S)),u(!0);try{const v=await f.lookupAddress(N);g(v||void 0)}catch{}}catch(f){h({code:f.code||-1,message:f.message||"Failed to connect wallet"}),y()}finally{m(!1)}},[C,A,c,d,p,u,g,h,m,y]),U=o.useCallback(()=>{y()},[y]),ie=o.useCallback(async f=>{if(!C()||!r){h({code:-1,message:I.WALLET_NOT_CONNECTED});return}const x=Te[f];if(!x){h({code:-1,message:"Unsupported network"});return}try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${f.toString(16)}`}]})}catch(N){if(N.code===4902)try{await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${f.toString(16)}`,chainName:x.name,nativeCurrency:x.nativeCurrency,rpcUrls:x.rpcUrls,blockExplorerUrls:x.blockExplorerUrls}]})}catch(j){h({code:j.code||-1,message:j.message||"Failed to add network"})}else h({code:N.code||-1,message:N.message||"Failed to switch network"})}},[C,r,h]),B=o.useCallback(async()=>{if(!(!e||!r))try{const f=await A();if(!f)return;const x=await f.getBalance(e);p(K(x))}catch(f){console.error("Failed to update balance:",f)}},[e,r,A,p]),Z=o.useCallback(()=>t===Re.DEFAULT_NETWORK_ID,[t]);return o.useEffect(()=>{if(!C())return;const f=j=>{j.length===0?U():j[0]!==e&&(c(j[0]),B())},x=j=>{d(parseInt(j,16)),B()},N=()=>{U()};return window.ethereum.on("accountsChanged",f),window.ethereum.on("chainChanged",x),window.ethereum.on("disconnect",N),()=>{window.ethereum.removeListener&&(window.ethereum.removeListener("accountsChanged",f),window.ethereum.removeListener("chainChanged",x),window.ethereum.removeListener("disconnect",N))}},[C,e,U,c,d,B]),o.useEffect(()=>{(async()=>{if(C())try{(await window.ethereum.request({method:"eth_accounts"})).length>0&&await D()}catch(x){console.error("Auto-connect failed:",x)}})()},[C,D]),{address:e,chainId:t,isConnected:r,isConnecting:n,balance:i,ensName:a,error:l,connect:D,disconnect:U,switchNetwork:ie,updateBalance:B,getProvider:A,getSigner:q,isMetaMaskInstalled:C,isCorrectNetwork:Z}};function Pe(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Pe(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function J(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Pe(e))&&(n&&(n+=" "),n+=t);return n}const Y=({variant:e="primary",size:t="md",loading:r=!1,disabled:n,className:i,children:a,...l})=>{const c="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",d={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-primary-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-primary-500",danger:"bg-error-600 text-white hover:bg-error-700 focus:ring-error-500"},u={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return s.jsxs("button",{className:J(c,d[e],u[t],i),disabled:n||r,...l,children:[r&&s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a]})};function zt({title:e,titleId:t,...r},n){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const qt=o.forwardRef(zt),oe=qt;function Zt({title:e,titleId:t,...r},n){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Gt=o.forwardRef(Zt),Kt=Gt;function Yt({title:e,titleId:t,...r},n){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Xt=o.forwardRef(Yt),Jt=Xt;function Qt({title:e,titleId:t,...r},n){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const er=o.forwardRef(Qt),Ie=er;function tr({title:e,titleId:t,...r},n){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const rr=o.forwardRef(tr),ye=rr;function sr({title:e,titleId:t,...r},n){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const nr=o.forwardRef(sr),_e=nr;function ar({title:e,titleId:t,...r},n){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}const ir=o.forwardRef(ar),or=ir,lr=()=>{const{address:e,chainId:t,isConnected:r,isConnecting:n,balance:i,ensName:a,error:l,connect:c,disconnect:d,switchNetwork:u,isMetaMaskInstalled:m,isCorrectNetwork:p}=fe();if(!m())return s.jsxs("div",{className:"text-center p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsx("p",{className:"text-yellow-800 mb-3",children:"MetaMask is required to use this application"}),s.jsx("a",{href:"https://metamask.io/download/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors",children:"Install MetaMask"})]});if(!r)return s.jsxs("div",{className:"text-center",children:[s.jsxs(Y,{onClick:c,loading:n,className:"inline-flex items-center",children:[s.jsx(or,{className:"w-5 h-5 mr-2"}),"Connect Wallet"]}),l&&s.jsx("p",{className:"text-error-600 text-sm mt-2",children:l.message})]});const g=t?Te[t]:null;return s.jsxs("div",{className:"flex items-center space-x-4",children:[!p()&&s.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-warning-100 text-warning-800 rounded-lg text-sm",children:[s.jsx("span",{children:"Wrong Network"}),s.jsx(Y,{size:"sm",variant:"outline",onClick:()=>u(31337),className:"ml-2",children:"Switch"})]}),s.jsxs("div",{className:"flex items-center space-x-3 bg-gray-50 rounded-lg px-4 py-2",children:[s.jsxs("div",{className:"flex flex-col items-end",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:a||Ut(e)}),s.jsxs("div",{className:"text-xs text-gray-500",children:[i," ETH"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[g&&s.jsx("div",{className:"text-xs text-gray-500",children:g.name}),s.jsx("button",{onClick:d,className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:"Disconnect",children:s.jsx(Kt,{className:"w-4 h-4"})})]})]})]})},cr=({children:e})=>s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsx("div",{className:"flex items-center",children:s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Token Crowdsale Platform"})}),s.jsx(lr,{})]})})}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e}),s.jsx("footer",{className:"bg-white border-t border-gray-200 mt-auto",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsx("div",{className:"text-center text-sm text-gray-500",children:s.jsx("p",{children:"Â© 2025 Token Crowdsale Platform. Built with Web3 technology."})})})})]}),V=({className:e,children:t})=>s.jsx("div",{className:J("bg-white rounded-lg shadow-sm border border-gray-200",e),children:t}),dr=({className:e,children:t})=>s.jsx("div",{className:J("px-6 py-4 border-b border-gray-200",e),children:t}),z=({className:e,children:t})=>s.jsx("div",{className:J("px-6 py-4",e),children:t}),ur=({className:e,children:t})=>s.jsx("div",{className:J("px-6 py-4 border-t border-gray-200 bg-gray-50",e),children:t});var M=(e=>(e[e.PENDING=0]="PENDING",e[e.PRESALE=1]="PRESALE",e[e.PUBLIC_SALE=2]="PUBLIC_SALE",e[e.FINALIZED=3]="FINALIZED",e))(M||{});const mr=Ae((e,t)=>({currentCrowdsale:null,config:null,stats:null,phase:null,crowdsales:[],activeCrowdsales:[],isLoading:!1,isCreating:!1,isPurchasing:!1,setCurrentCrowdsale:r=>e({currentCrowdsale:r}),setConfig:r=>e({config:r}),setStats:r=>e({stats:r}),setPhase:r=>e({phase:r}),setCrowdsales:r=>e({crowdsales:r}),setActiveCrowdsales:r=>e({activeCrowdsales:r}),setLoading:r=>e({isLoading:r}),setCreating:r=>e({isCreating:r}),setPurchasing:r=>e({isPurchasing:r}),getFundingProgress:()=>{const{stats:r,config:n}=t();return!r||!n||n.hardCap===0n?0:Math.min(Number(r.totalRaised*100n/n.hardCap),100)},getRemainingTime:()=>{const{config:r,phase:n}=t();if(!r||!n)return 0;const i=Math.floor(Date.now()/1e3);let a;switch(n){case M.PRESALE:a=r.presaleEndTime;break;case M.PUBLIC_SALE:a=r.publicSaleEndTime;break;default:return 0}return Math.max(Number(a)-i,0)},isActive:()=>{const{phase:r}=t();return r===M.PRESALE||r===M.PUBLIC_SALE},canPurchase:()=>{const{phase:r,stats:n,config:i}=t();if(!r||!n||!i)return!1;const a=r===M.PRESALE||r===M.PUBLIC_SALE,l=n.totalRaised<i.hardCap;return a&&l},reset:()=>e({currentCrowdsale:null,config:null,stats:null,phase:null,crowdsales:[],activeCrowdsales:[],isLoading:!1,isCreating:!1,isPurchasing:!1})})),me={TokenCrowdsale:["function getCurrentPhase() external view returns (uint8)","function getCrowdsaleConfig() external view returns (tuple(uint256,uint256,uint256,uint256,uint256,uint256,uint256,uint256))","function getCrowdsaleStats() external view returns (tuple(uint256,uint256,uint256,uint256,uint256,uint256,uint256))","function isInValidTimeWindow() external view returns (bool)","function isSoftCapReached() external view returns (bool)","function isHardCapReached() external view returns (bool)","function getFundingProgress() external view returns (uint256)","function getRemainingFunding() external view returns (uint256)","function token() external view returns (address)","function whitelistManager() external view returns (address)","function fundingWallet() external view returns (address)","function purchaseTokens() external payable","function batchPurchase(address[] calldata recipients, uint256[] calldata amounts) external payable","function startPresale() external","function startPublicSale() external","function finalizeCrowdsale() external","function emergencyPause(string calldata reason) external","function emergencyResume(string calldata reason) external","function updateConfig(tuple) external","function updateTimeConfig(uint256,uint256,uint256,uint256) external","function updateFundingTargets(uint256,uint256) external","function updatePurchaseLimits(uint256,uint256) external","event PhaseChanged(uint8 indexed previousPhase, uint8 indexed newPhase, uint256 timestamp, address indexed changedBy)","event TokensPurchased(address indexed buyer, uint256 amount, uint256 tokenAmount, uint8 indexed phase)","event ConfigUpdated(tuple config, address indexed updatedBy)","event CapReached(string indexed capType, uint256 amount, uint256 timestamp)","event EmergencyAction(string action, address indexed executor, uint256 timestamp, string reason)"],CrowdsaleFactory:["function createCrowdsale(tuple) external payable returns (address, address, address)","function batchCreateCrowdsale(tuple[]) external payable returns (address[])","function getCrowdsaleInstance(address) external view returns (tuple)","function getCreatorCrowdsales(address) external view returns (tuple[])","function getActiveCrowdsales() external view returns (tuple[])","function getTotalCrowdsales() external view returns (uint256)","function validateCrowdsaleParams(tuple) external view returns (bool, string)","function getFactoryStats() external view returns (uint256, uint256, uint256)","function updateCrowdsaleStatus(address, bool) external","function setCreationFee(uint256) external","function setPublicCreationAllowed(bool) external","function withdrawFees(address, uint256) external","function getCreationFee() external view returns (uint256)","function isPublicCreationAllowed() external view returns (bool)","event CrowdsaleCreated(address indexed creator, address indexed crowdsaleAddress, address indexed tokenAddress, address vestingAddress, string tokenName, string tokenSymbol)","event CrowdsaleStatusUpdated(address indexed crowdsaleAddress, bool isActive)","event FactoryConfigUpdated(address indexed admin, uint256 creationFee, bool publicCreation)"],TokenVesting:["function createVestingSchedule(address, uint256, uint256, uint256, uint8) external","function releaseTokens(bytes32) external","function revokeVesting(bytes32) external","function batchRelease(bytes32[]) external","function getVestingSchedule(address) external view returns (tuple)","function getReleasableAmount(bytes32) external view returns (uint256)","function getBeneficiaries() external view returns (address[])","function getTotalVestingSchedules() external view returns (uint256)","event VestingScheduleCreated(bytes32 indexed scheduleId, address indexed beneficiary, uint256 amount)","event TokensReleased(bytes32 indexed scheduleId, address indexed beneficiary, uint256 amount)","event VestingRevoked(bytes32 indexed scheduleId, address indexed beneficiary, uint256 revokedAmount)"],CrowdsaleToken:["function name() external view returns (string)","function symbol() external view returns (string)","function decimals() external view returns (uint8)","function totalSupply() external view returns (uint256)","function balanceOf(address) external view returns (uint256)","function transfer(address, uint256) external returns (bool)","function allowance(address, address) external view returns (uint256)","function approve(address, uint256) external returns (bool)","function transferFrom(address, address, uint256) external returns (bool)","function mint(address, uint256) external","function batchMint(address[], uint256[]) external","function burn(uint256) external","function burnFrom(address, uint256) external","function maxSupply() external view returns (uint256)","function remainingMintable() external view returns (uint256)","function canMint() external view returns (bool)","event Transfer(address indexed from, address indexed to, uint256 value)","event Approval(address indexed owner, address indexed spender, uint256 value)"],WhitelistManager:["function addToWhitelist(address, uint8) external","function removeFromWhitelist(address) external","function batchAddToWhitelist(address[], uint8[]) external","function batchRemoveFromWhitelist(address[]) external","function isWhitelisted(address) external view returns (bool)","function getWhitelistLevel(address) external view returns (uint8)","function getWhitelistInfo(address) external view returns (tuple)","function getTotalWhitelisted() external view returns (uint256)","function getWhitelistedAddresses() external view returns (address[])","event AddedToWhitelist(address indexed account, uint8 level)","event RemovedFromWhitelist(address indexed account)"]},fr=e=>{const t=`VITE_${e.toUpperCase()}_ADDRESS`;return{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}[t]||""};var Le=(e=>(e.PURCHASE="purchase",e.CREATE_CROWDSALE="create_crowdsale",e.RELEASE_TOKENS="release_tokens",e.REFUND="refund",e.APPROVE="approve",e.TRANSFER="transfer",e))(Le||{}),re=(e=>(e.PENDING="pending",e.CONFIRMED="confirmed",e.FAILED="failed",e))(re||{});const hr=e=>{const{getProvider:t,getSigner:r,isConnected:n,address:i}=fe(),{addTransaction:a,updateTransaction:l}=ke(),{currentCrowdsale:c,config:d,stats:u,phase:m,isLoading:p,isPurchasing:g,setCurrentCrowdsale:h,setConfig:y,setStats:C,setPhase:A,setLoading:q,setPurchasing:D,getFundingProgress:U,getRemainingTime:ie,isActive:B,canPurchase:Z}=mr();o.useEffect(()=>{e&&e!==c&&h(e)},[e,c,h]);const f=o.useCallback(async S=>{const v=await t();if(!v)return null;const w=S||c;return w?new le(w,me.TokenCrowdsale,v):null},[t,c]),x=o.useCallback(async S=>{const v=await f(S);if(v){q(!0);try{const[w,E,H]=await Promise.all([v.getCrowdsaleConfig(),v.getCrowdsaleStats(),v.getCurrentPhase()]),F={presaleStartTime:w[0],presaleEndTime:w[1],publicSaleStartTime:w[2],publicSaleEndTime:w[3],softCap:w[4],hardCap:w[5],minPurchase:w[6],maxPurchase:w[7]},O={totalRaised:E[0],totalTokensSold:E[1],totalPurchases:E[2],totalParticipants:E[3],participantCount:E[4],presaleRaised:E[5],publicSaleRaised:E[6]};y(F),C(O),A(H)}catch(w){console.error("Failed to fetch crowdsale data:",w),P.error("Failed to load crowdsale data")}finally{q(!1)}}},[f,q,y,C,A]),N=o.useCallback(async S=>{var E,H,F;if(!n||!i){P.error(I.WALLET_NOT_CONNECTED);return}if(!Z()){P.error(I.CROWDSALE_NOT_ACTIVE);return}const v=await r(),w=await f();if(!v||!w){P.error("Failed to get contract instance");return}D(!0);try{const k=await w.connect(v).purchaseTokens({value:S});a({hash:k.hash,type:Le.PURCHASE,status:re.PENDING,data:{amount:S,crowdsale:c}}),P.success(we.TRANSACTION_SENT);const Q=await k.wait();(Q==null?void 0:Q.status)===1?(l(k.hash,{status:re.CONFIRMED,gasUsed:Q.gasUsed}),P.success(we.PURCHASE_SUCCESSFUL),await x()):(l(k.hash,{status:re.FAILED,error:"Transaction failed"}),P.error(I.TRANSACTION_FAILED))}catch(O){console.error("Purchase failed:",O);let k=I.TRANSACTION_FAILED;(E=O.message)!=null&&E.includes("insufficient funds")?k=I.INSUFFICIENT_BALANCE:(H=O.message)!=null&&H.includes("not whitelisted")?k=I.NOT_WHITELISTED:(F=O.message)!=null&&F.includes("hard cap")&&(k=I.HARD_CAP_REACHED),P.error(k)}finally{D(!1)}},[n,i,Z,r,f,c,D,a,l,x]),j=o.useCallback(async S=>{const v=await f();if(!v)return!1;try{const w=await v.whitelistManager(),E=await t();if(!E)return!1;const H=new le(w,me.WhitelistManager,E),F=S||i;return F?await H.isWhitelisted(F):!1}catch(w){return console.error("Failed to check whitelist status:",w),!1}},[f,t,i]);return o.useEffect(()=>{if(!c)return;x();const S=setInterval(()=>{x()},Re.REFRESH_INTERVAL);return()=>clearInterval(S)},[c,x]),{crowdsaleAddress:c,config:d,stats:u,phase:m,isLoading:p,isPurchasing:g,fundingProgress:U(),remainingTime:ie(),isActive:B(),canPurchase:Z(),fetchCrowdsaleData:x,purchaseTokens:N,checkWhitelistStatus:j,getCrowdsaleContract:f}},pr=({instance:e,onSelect:t})=>{const{config:r,stats:n,phase:i}=hr(e.crowdsaleAddress);if(!r||!n||i===null)return s.jsx(V,{className:"animate-pulse",children:s.jsx(z,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})})});const a=Bt(n.totalRaised,r.hardCap),l=Ht(i===1?r.presaleEndTime:r.publicSaleEndTime);return s.jsxs(V,{className:"hover:shadow-md transition-shadow cursor-pointer",children:[s.jsxs(dr,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Token Crowdsale"}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i===1?"bg-blue-100 text-blue-800":i===2?"bg-green-100 text-green-800":i===3?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:Vt(i)})]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[e.crowdsaleAddress.slice(0,10),"...",e.crowdsaleAddress.slice(-8)]})]}),s.jsxs(z,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{children:[a.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(a,100)}%`}})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ie,{className:"w-4 h-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Raised"}),s.jsxs("p",{className:"text-sm font-medium",children:[K(n.totalRaised)," ETH"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_e,{className:"w-4 h-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Participants"}),s.jsx("p",{className:"text-sm font-medium",children:n.totalParticipants.toString()})]})]})]}),(i===1||i===2)&&s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx(Jt,{className:"w-4 h-4"}),s.jsxs("span",{children:["Ends in ",l]})]}),s.jsx("div",{className:"text-xs text-gray-500",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Soft Cap: ",K(r.softCap)," ETH"]}),s.jsxs("span",{children:["Hard Cap: ",K(r.hardCap)," ETH"]})]})})]}),s.jsx(ur,{children:s.jsx(Y,{onClick:()=>t==null?void 0:t(e.crowdsaleAddress),className:"w-full",disabled:i===3,children:i===3?"Finalized":"View Details"})})]})},xr=()=>{const{getProvider:e,isConnected:t}=fe(),[r,n]=o.useState([]),[i,a]=o.useState(!0),[l,c]=o.useState({totalCrowdsales:0,activeCrowdsales:0,totalFeesCollected:"0"}),d=async()=>{try{const m=await e();if(!m)return;const p=fr("CrowdsaleFactory");if(!p){console.warn("Factory address not configured");return}const g=new le(p,me.CrowdsaleFactory,m),[h,y]=await Promise.all([g.getActiveCrowdsales(),g.getFactoryStats()]);n(h),c({totalCrowdsales:Number(y[0]),activeCrowdsales:Number(y[1]),totalFeesCollected:y[2].toString()})}catch(m){console.error("Failed to fetch crowdsales:",m)}finally{a(!1)}};o.useEffect(()=>{t?d():a(!1)},[t]);const u=m=>{console.log("Selected crowdsale:",m)};return t?s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Token Crowdsale Platform"}),s.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"Discover and participate in decentralized token crowdsales"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(V,{children:s.jsxs(z,{className:"flex items-center p-6",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(oe,{className:"h-8 w-8 text-primary-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total Crowdsales"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l.totalCrowdsales})]})]})}),s.jsx(V,{children:s.jsxs(z,{className:"flex items-center p-6",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Ie,{className:"h-8 w-8 text-success-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Active Crowdsales"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l.activeCrowdsales})]})]})}),s.jsx(V,{children:s.jsxs(z,{className:"flex items-center p-6",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(_e,{className:"h-8 w-8 text-warning-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Platform Fees"}),s.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[(Number(l.totalFeesCollected)/1e18).toFixed(2)," ETH"]})]})]})})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Active Crowdsales"}),s.jsxs(Y,{className:"inline-flex items-center",children:[s.jsx(ye,{className:"w-4 h-4 mr-2"}),"Create Crowdsale"]})]}),i?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((m,p)=>s.jsx(V,{className:"animate-pulse",children:s.jsx(z,{className:"p-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})})},p))}):r.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(m=>s.jsx(pr,{instance:m,onSelect:u},m.crowdsaleAddress))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(oe,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No Active Crowdsales"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Be the first to create a crowdsale on this platform."}),s.jsx("div",{className:"mt-6",children:s.jsxs(Y,{className:"inline-flex items-center",children:[s.jsx(ye,{className:"w-4 h-4 mr-2"}),"Create First Crowdsale"]})})]})]}):s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx(oe,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Connect Your Wallet"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Connect your wallet to view and participate in token crowdsales."})]})})};function gr(){return s.jsxs(s.Fragment,{children:[s.jsx(cr,{children:s.jsx(xr,{})}),s.jsx(Dt,{position:"top-right",toastOptions:{duration:5e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})}ce.createRoot(document.getElementById("root")).render(s.jsx(ve.StrictMode,{children:s.jsx(gr,{})}));
